(this["webpackJsonpomdb-search"]=this["webpackJsonpomdb-search"]||[]).push([[0],{34:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){"use strict";r.r(t);var c=r(1),a=r.n(c),s=r(14),n=r.n(s),i=r(10),o=r(15),l=r(23),j=r(22),u=(r(33),r(34),r(17)),b=r(40),h=r(41),d=r(42),p=r(43),O=r(44),m=function(e,t,r,c,a){return{type:"RESULTS_RECEIVED",title:e,search_year:t,search_type:r,results:c,page:a,errorMessage:""}},f=r(9),x=r.n(f),y=r(13),E="e889c907",g="https://www.omdbapi.com/",v=function(){var e=Object(y.a)(x.a.mark((function e(t,r,c,a){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.trim().replace(" ","+"),e.abrupt("return",new Promise((function(e){fetch("".concat(g,"?apikey=").concat(E,"&s=").concat(s,"&y=").concat(r,"&type=").concat(c,"&page=").concat(a),{method:"GET"}).then((function(t){e(t.json())}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,r,c,a){return e.apply(this,arguments)}}(),_=function(e,t,r,c){return function(){var a=Object(y.a)(x.a.mark((function a(s){var n;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v(e,t,r,c);case 2:if(!(n=a.sent).Error){a.next=5;break}return a.abrupt("return",s({type:"SEARCH_FAILED",results:[],title:"",errorMessage:n.Error}));case 5:s(m(e,t,r,n.Search,c));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},w=r(2);function S(e){var t=e.results;return Object(w.jsx)("div",{children:Object(w.jsx)("ul",{className:"list-group",children:t.map((function(e,t){return Object(w.jsx)("li",{className:"list-group-item",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("a",{href:"https://www.imdb.com/title/".concat(e.imdbID,"/"),rel:"noreferrer",target:"_blank",children:Object(w.jsx)("img",{className:"float-start img-fluid me-2",src:e.Poster,alt:e.Title,height:"100",width:"65"})}),Object(w.jsxs)("p",{className:"fw-bold mb-1",children:[e.Title," (",e.Year,")"]}),Object(w.jsxs)("a",{href:"https://www.imdb.com/title/".concat(e.imdbID,"/"),rel:"noreferrer",target:"_blank",children:["https://www.imdb.com/title/",e.imdbID,"/"]})]})},"".concat(e.imdbID,"-").concat(t))}))})})}function T(){var e=Object(i.b)(),t=Object(c.useState)(""),r=Object(u.a)(t,2),a=r[0],s=r[1],n=Object(c.useState)(""),o=Object(u.a)(n,2),l=o[0],j=o[1],m=Object(c.useState)(""),f=Object(u.a)(m,2),x=f[0],y=f[1],E=Object(i.c)((function(e){return e.errorMessage})),g=Object(i.c)((function(e){return e.page})),v=Object(i.c)((function(e){return function(e){return e.results}(e)})),T=function(){s(""),j(""),y(""),e({type:"SEARCH_CLEARED",title:"",search_year:"",search_type:"",results:[],errorMessage:""})};return Object(w.jsxs)("div",{className:"container my-3",children:[Object(w.jsxs)(b.a,{onSubmit:function(t){t.preventDefault(),e({type:"TITLE_SET",title:a}),e(function(e){return{type:"SEARCH_YEAR_SET",searchYear:e}}(x)),e(function(e){return{type:"SEARCH_TYPE_SET",searchType:e}}(l)),e(_(a,x,l,1))},children:[Object(w.jsxs)(h.a,{className:"row",children:[Object(w.jsxs)("div",{className:"col-md-6",children:[Object(w.jsx)(d.a,{for:"title_input",children:"Search by title"}),Object(w.jsx)(p.a,{name:"title_input",placeholder:"title",type:"text",value:a,onChange:function(e){return s(e.target.value)}})]}),Object(w.jsxs)("div",{className:"col-auto",children:[Object(w.jsx)(d.a,{for:"year_input",children:"Year"}),Object(w.jsx)(p.a,{name:"year_input",placeholder:"year",type:"text",value:x,onChange:function(e){return y(e.target.value)}})]}),Object(w.jsxs)("div",{className:"col-auto",children:[Object(w.jsx)(d.a,{for:"type",children:"Type"}),Object(w.jsxs)("select",{id:"searchType",name:"searchType",className:"form-select",value:l,onChange:function(e){return j(e.target.value)},children:[Object(w.jsx)("option",{value:"",children:"Type..."}),Object(w.jsx)("option",{value:"movie",children:"Movie"}),Object(w.jsx)("option",{value:"series",children:"Series"}),Object(w.jsx)("option",{value:"episode",children:"Episode"})]})]})]}),Object(w.jsxs)(h.a,{className:"mt-2",children:[Object(w.jsx)(O.a,{className:"me-2",color:"secondary",size:"sm",onClick:T,children:"Clear"}),Object(w.jsx)(O.a,{color:"primary",disabled:!a&&!0,size:"sm",type:"submit",children:"Search"})]})]}),Object(w.jsx)("div",{className:"row mt-3",children:Object(w.jsxs)("div",{className:"col-md-10",children:[Object(w.jsxs)("p",{children:["Results for ",a,": "]}),E&&Object(w.jsx)("div",{className:"text-warning",children:E}),v.length>0&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S,{results:v}),Object(w.jsxs)("div",{className:"load-more mt-2",children:[Object(w.jsx)(O.a,{className:"me-2",color:"secondary",size:"sm",onClick:T,children:"Clear"}),Object(w.jsx)(O.a,{color:"primary",size:"sm",onClick:function(){e(function(e){return{type:"LOAD_MORE_REQUESTED",page:e}}(g+1)),e(_(a,x,l,g+1))},children:"Load More"})]})]})]})})]})}r(37);var N=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("header",{children:Object(w.jsx)("nav",{className:"navbar bg-light",children:Object(w.jsx)("div",{className:"container-fluid ms-5 py-2",children:Object(w.jsx)("h2",{className:"mb-0",children:"\ud83c\udf9e\ufe0f OMDb Search"})})})}),Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(T,{})})]})},R=r(20),C=r(4),A={title:"",search_type:"",search_year:"",page:1,isLoading:!1,results:[]};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=Object(j.composeWithDevTools)(Object(o.applyMiddleware)(l.a)),M=Object(o.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TITLE_SET":return Object(C.a)(Object(C.a)({},e),{},{title:t.title});case"SEARCH_TYPE_SET":return Object(C.a)(Object(C.a)({},e),{},{search_type:t.searchType});case"SEARCH_YEAR_SET":return Object(C.a)(Object(C.a)({},e),{},{search_year:t.searchYear});case"SEARCH_CLEARED":return Object(C.a)(Object(C.a)({},e),{},{title:t.title,results:t.results,errorMessage:t.errorMessage});case"SEARCH_FAILED":return Object(C.a)(Object(C.a)({},e),{},{title:t.title,errorMessage:t.errorMessage});case"RESULTS_RECEIVED":return Object(C.a)(Object(C.a)({},e),{},{title:t.title,search_year:t.search_year,search_type:t.search_type,page:t.page,results:1===t.page?t.results:[].concat(Object(R.a)(e.results),Object(R.a)(t.results)),errorMessage:t.errorMessage});case"LOAD_MORE_REQUESTED":return Object(C.a)(Object(C.a)({},e),{},{page:t.page});default:return e}}),D);n.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(i.a,{store:M,children:Object(w.jsx)(N,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.44a65f45.chunk.js.map