(this["webpackJsonpomdb-search"]=this["webpackJsonpomdb-search"]||[]).push([[0],{31:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){"use strict";r.r(t);var c=r(1),s=r.n(c),n=r(13),a=r.n(n),i=r(11),o=r(14),l=r(20),j=r(19),u=(r(30),r(31),r(17)),b=r(37),d=r(38),h=r(39),m=r(40),p=r(41),O=function(e,t){return{type:"RESULTS_RECEIVED",results:t,title:e,errorMessage:""}},f=r(9),x=r.n(f),v=r(12),E="e889c907",w="https://www.omdbapi.com/",g=function(){var e=Object(v.a)(x.a.mark((function e(t,r){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.trim().replace(" ","+"),e.abrupt("return",new Promise((function(e){fetch("".concat(w,"?apikey=").concat(E,"&s=").concat(c,"&type=").concat(r,"&page=1"),{method:"GET"}).then((function(t){e(t.json())}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),y=r(2);function S(e){var t=e.results;return Object(y.jsx)("div",{children:Object(y.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(y.jsx)("li",{className:"list-group-item",children:Object(y.jsxs)("div",{children:[Object(y.jsx)("a",{href:"https://www.imdb.com/title/".concat(e.imdbID,"/"),rel:"noreferrer",target:"_blank",children:Object(y.jsx)("img",{className:"float-start img-fluid me-2",src:e.Poster,alt:e.Title,height:"100",width:"65"})}),Object(y.jsxs)("p",{className:"fw-bold mb-1",children:[e.Title," (",e.Year,")"]}),Object(y.jsxs)("a",{href:"https://www.imdb.com/title/".concat(e.imdbID,"/"),rel:"noreferrer",target:"_blank",children:["https://www.imdb.com/title/",e.imdbID,"/"]})]})},e.imdbID)}))})})}function T(){var e=Object(i.b)(),t=Object(c.useState)(""),r=Object(u.a)(t,2),s=r[0],n=r[1],a=Object(c.useState)(""),o=Object(u.a)(a,2),l=o[0],j=o[1],f=Object(i.c)((function(e){return e.errorMessage})),E=Object(i.c)((function(e){return function(e){return e.results}(e)}));return Object(y.jsxs)("div",{className:"container my-3",children:[Object(y.jsxs)(b.a,{onSubmit:function(t){t.preventDefault(),e({type:"TITLE_SET",title:s}),e(function(e){return{type:"SEARCH_TYPE_SET",searchType:e}}(l)),e(function(e,t){return function(){var r=Object(v.a)(x.a.mark((function r(c){var s;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g(e,t);case 2:if(!(s=r.sent).Error){r.next=5;break}return r.abrupt("return",c({type:"SEARCH_FAILED",results:[],title:"",errorMessage:s.Error}));case 5:c(O(e,s.Search));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(s,l))},children:[Object(y.jsxs)(d.a,{className:"row",children:[Object(y.jsxs)("div",{className:"col-md-6",children:[Object(y.jsx)(h.a,{for:"movieTitle",children:"Search by title"}),Object(y.jsx)(m.a,{name:"movieTitle",placeholder:"title",type:"text",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(y.jsxs)("div",{className:"col-auto",children:[Object(y.jsx)(h.a,{for:"type",children:"Type"}),Object(y.jsxs)("select",{id:"searchType",name:"searchType",className:"form-select",value:l,onChange:function(e){return j(e.target.value)},children:[Object(y.jsx)("option",{value:"",children:"Type..."}),Object(y.jsx)("option",{value:"movie",children:"Movie"}),Object(y.jsx)("option",{value:"series",children:"Series"}),Object(y.jsx)("option",{value:"episode",children:"Episode"})]})]})]}),Object(y.jsxs)(d.a,{className:"mt-2",children:[Object(y.jsx)(p.a,{className:"me-2",color:"secondary",size:"sm",onClick:function(){n(""),j(""),e({type:"SEARCH_CLEARED",results:[],title:"",errorMessage:""})},children:"Clear"}),Object(y.jsx)(p.a,{color:"primary",size:"sm",type:"submit",children:"Search"})]})]}),Object(y.jsx)("div",{className:"row mt-3",children:Object(y.jsxs)("div",{className:"col-md-8",children:[Object(y.jsxs)("p",{children:["Results for ",s,": "]}),f&&Object(y.jsx)("div",{className:"text-warning",children:f}),E.length>0&&Object(y.jsx)(S,{results:E})]})})]})}r(34);var N=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("header",{children:Object(y.jsx)("nav",{className:"navbar bg-light",children:Object(y.jsx)("div",{className:"container-fluid ms-5 py-2",children:Object(y.jsx)("h2",{className:"mb-0",children:"\ud83c\udf9e\ufe0f OMDb Search"})})})}),Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(T,{})})]})},_=r(4),C={title:"",search_type:"",results:[]};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=Object(j.composeWithDevTools)(Object(o.applyMiddleware)(l.a)),R=Object(o.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TITLE_SET":return Object(_.a)(Object(_.a)({},e),{},{title:t.title});case"SEARCH_TYPE_SET":return Object(_.a)(Object(_.a)({},e),{},{search_type:t.searchType});case"SEARCH_CLEARED":case"RESULTS_RECEIVED":return Object(_.a)(Object(_.a)({},e),{},{title:t.title,results:t.results,errorMessage:t.errorMessage});case"SEARCH_FAILED":return Object(_.a)(Object(_.a)({},e),{},{title:t.title,errorMessage:t.errorMessage});default:return e}}),D);a.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(i.a,{store:R,children:Object(y.jsx)(N,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.f0590702.chunk.js.map